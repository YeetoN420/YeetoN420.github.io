import{S as Y,i as F,s as W,k as g,a as j,l as v,m as b,c as R,h as u,n as d,b as p,G as y,t as N,d as K,f as O,H as L,Q as U,R as z,T as A,g as C,B as J,U as Q,q as I,r as S,u as E,J as Z,O as D,V as X,e as P,W as $,K as x}from"../../../chunks/index-f11a4517.js";import{w as ee}from"../../../chunks/index-3b0dad62.js";import{f as V}from"../../../chunks/index-3964973f.js";const te=window.localStorage.getItem("story_id")??"1",T=ee(te);T.subscribe(o=>{window.localStorage.setItem("story_id",o),console.log(o)});let le=[{id:"1",message:"The greatest story ever.",img:"wave.jpeg",choices:[{id:"2",text:"Begin"}]},{id:"2",message:"What will be your path?",img:"T-Spawn.jpg",choices:[{id:"3",text:"Left"},{id:"4",text:"Right"}]},{id:"3",message:"Wrong! Try again!",img:"choice.jpeg",choices:[{id:"4",text:"Other right"},{id:"4",text:"Right"}]},{id:"4",message:"不不不不不",html:'<div style="width:480px"><iframe allow="fullscreen" frameBorder="0" height="360" src="https://giphy.com/embed/uhYPkjP03h9RvVdazZ/video" width="480"></iframe></div>',choices:[{id:"1",text:"Reset!"}]}];function B(o,e,r){const s=o.slice();return s[4]=e[r],s}function ie(o){let e,r,s,l;return{c(){e=g("p"),r=I("STORY FOR ID "),s=I(o[0]),l=I(" MISSING")},l(n){e=v(n,"P",{});var c=b(e);r=S(c,"STORY FOR ID "),s=S(c,o[0]),l=S(c," MISSING"),c.forEach(u)},m(n,c){p(n,e,c),y(e,r),y(e,s),y(e,l)},p(n,c){c&1&&E(s,n[0])},d(n){n&&u(e)}}}function se(o){let e,r,s,l=o[1].message+"",n,c,i,t=o[1].img&&G(o),f=o[1].html&&M(o),k=o[1].choices,m=[];for(let a=0;a<k.length;a+=1)m[a]=q(B(o,k,a));return{c(){t&&t.c(),e=j(),f&&f.c(),r=j(),s=g("p"),n=I(l),c=j(),i=g("div");for(let a=0;a<m.length;a+=1)m[a].c();this.h()},l(a){t&&t.l(a),e=R(a),f&&f.l(a),r=R(a),s=v(a,"P",{});var h=b(s);n=S(h,l),h.forEach(u),c=R(a),i=v(a,"DIV",{class:!0});var _=b(i);for(let w=0;w<m.length;w+=1)m[w].l(_);_.forEach(u),this.h()},h(){d(i,"class","row svelte-a8ojyg")},m(a,h){t&&t.m(a,h),p(a,e,h),f&&f.m(a,h),p(a,r,h),p(a,s,h),y(s,n),p(a,c,h),p(a,i,h);for(let _=0;_<m.length;_+=1)m[_]&&m[_].m(i,null)},p(a,h){if(a[1].img?t?t.p(a,h):(t=G(a),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null),a[1].html?f?f.p(a,h):(f=M(a),f.c(),f.m(r.parentNode,r)):f&&(f.d(1),f=null),h&2&&l!==(l=a[1].message+"")&&E(n,l),h&6){k=a[1].choices;let _;for(_=0;_<k.length;_+=1){const w=B(a,k,_);m[_]?m[_].p(w,h):(m[_]=q(w),m[_].c(),m[_].m(i,null))}for(;_<m.length;_+=1)m[_].d(1);m.length=k.length}},d(a){t&&t.d(a),a&&u(e),f&&f.d(a),a&&u(r),a&&u(s),a&&u(c),a&&u(i),Z(m,a)}}}function G(o){let e,r,s;return{c(){e=g("img"),this.h()},l(l){e=v(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){D(e.src,r=o[1].img)||d(e,"src",r),d(e,"alt",s=o[1].message),d(e,"class","svelte-a8ojyg")},m(l,n){p(l,e,n)},p(l,n){n&2&&!D(e.src,r=l[1].img)&&d(e,"src",r),n&2&&s!==(s=l[1].message)&&d(e,"alt",s)},d(l){l&&u(e)}}}function M(o){let e,r=o[1].html+"",s;return{c(){e=new X(!1),s=P(),this.h()},l(l){e=$(l,!1),s=P(),this.h()},h(){e.a=s},m(l,n){e.m(r,l,n),p(l,s,n)},p(l,n){n&2&&r!==(r=l[1].html+"")&&e.p(r)},d(l){l&&u(s),l&&e.d()}}}function q(o){let e,r=o[4].text+"",s,l,n;function c(){return o[3](o[4])}return{c(){e=g("button"),s=I(r)},l(i){e=v(i,"BUTTON",{});var t=b(e);s=S(t,r),t.forEach(u)},m(i,t){p(i,e,t),y(e,s),l||(n=x(e,"click",c),l=!0)},p(i,t){o=i,t&2&&r!==(r=o[4].text+"")&&E(s,r)},d(i){i&&u(e),l=!1,n()}}}function H(o){let e,r,s,l;function n(t,f){return t[1]?se:ie}let c=n(o),i=c(o);return{c(){e=g("div"),i.c(),this.h()},l(t){e=v(t,"DIV",{class:!0});var f=b(e);i.l(f),f.forEach(u),this.h()},h(){d(e,"class","container svelte-a8ojyg")},m(t,f){p(t,e,f),i.m(e,null),l=!0},p(t,f){c===(c=n(t))&&i?i.p(t,f):(i.d(1),i=c(t),i&&(i.c(),i.m(e,null)))},i(t){l||(t&&U(()=>{l&&(s&&s.end(1),r=z(e,V,{x:800,duration:750}),r.start())}),l=!0)},o(t){r&&r.invalidate(),t&&(s=A(e,V,{x:-800,duration:750})),l=!1},d(t){t&&u(e),i.d(),t&&s&&s.end()}}}function re(o){let e,r,s,l,n=o[0],c=H(o);return{c(){e=g("main"),r=g("link"),s=j(),l=g("div"),c.c(),this.h()},l(i){e=v(i,"MAIN",{class:!0});var t=b(e);r=v(t,"LINK",{rel:!0,href:!0}),s=R(t),l=v(t,"DIV",{class:!0});var f=b(l);c.l(f),f.forEach(u),t.forEach(u),this.h()},h(){d(r,"rel","stylesheet"),d(r,"href","/pico.min.css"),d(l,"class","grid svelte-a8ojyg"),d(e,"class","svelte-a8ojyg")},m(i,t){p(i,e,t),y(e,r),y(e,s),y(e,l),c.m(l,null)},p(i,[t]){t&1&&W(n,n=i[0])?(C(),N(c,1,1,J),K(),c=H(i),c.c(),O(c,1),c.m(l,null)):c.p(i,t)},i(i){O(c)},o(i){N(c)},d(i){i&&u(e),c.d(i)}}}function ae(o,e,r){let s,l,n;L(o,T,i=>r(2,n=i));const c=i=>{Q(T,n=i.id,n)};return o.$$.update=()=>{o.$$.dirty&4&&r(0,s=n),o.$$.dirty&1&&r(1,l=le.find(i=>i.id==s))},[s,l,n,c]}class fe extends Y{constructor(e){super(),F(this,e,ae,re,W,{})}}export{fe as default};
